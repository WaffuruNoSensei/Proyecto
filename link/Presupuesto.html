<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clínica Dental J&J</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>

<body>
    <nav class="navbar navbar-inverse" id="header">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>                        
            </button>
            </div>
            <div class="container-fluid" id="myNavbar">
                <ul class="nav navbar-nav navbar-left">
                    <li><img src="../img/Logo.png" width="40px" height="40px"></li>
                    <li><a href="../index.html" id="idA">Inicio</a></li>
                    <li><a href="Contacto.html" id="idA">Contacto</a></li>
                    <li><a href="Serviciosytratamiento.html" id="idA">Servicios y Tratamientos</a></li>
                    <li><a href="covid.html" id="idA">CoVid-19</a></li>
                    <li class="active"><a href="#" id="idA">Presupuesto</a></li>
                    <span style="text-align:right;">
                    <li>
                        <a href="Presupuestoingles.html">
                            <img class="acambiar2" src="..\img\banderas partidas 2.png" alt="banderas" width=5% height=5%></a>
                    </li>
                    </span>
                </ul>

            </div>
        </div>
    </nav>
    <div class="container text-center">
        <div align="center" class="preform">
            <h1><strong>Pide presupuesto a nuestros expertos</strong></h1>
            <p><strong>Rellena este formulario rápidamente para tener tu presupuesto adecuado al servicio que requieres</strong></p>

        </div>
        <div align="center" class="formulario">
            <h2 style="text-align: center;"><b>¡Pide cita!</b></h2>
            <form action="" id="formulario">
                <label for="nombre">Nombre:</label>
                <input type="text" name="nombre" id="nombre" required> <br>
    
                <label for="apellido">Apellido:</label>
                <input type="text" name="apellido" id="apellido" required> <br>
    
                <label for="email">Correo electrónico:</label>
                <input type="email" name="email" id="email" required> <br>
    
                <label for="Especialista">Con qué profesional le gustaría tener la cita:</label>
                <select name="Especialista" id="Especialista">
                    <option value="Rekkles Ravenov" default>Rekkles Ravenov</option>
                    <option value="Fernando Pérez">Fernando Pérez</option>
                </select><br>
    
                <label for="telefono">Número de Teléfono:</label>
                <input type="number" name="telefono" id="telefono" minlength="9" maxlength="9" required> <br>
    
                <label for="servicio">Servicio que requiere:</label>
                <select name="servicio" id="servicio">
                    <option value="Limpieza Dental" default>Limpieza Dental</option>
                    <option value="Implantología" >Implantología</option>
                    <option value="Protesis Dental">Prótesis Dental</option>
                    <option value="Ortodoncia">Ortodoncia</option>
                    <option value="Ortodoncia Invisible" >Ortodoncia Invisible</option>
                    <option value="Carilla Dental" >Carilla Dental</option>
                    <option value="Estética Dental" >Estética Dental</option>
                    <option value="Periodoncia" >Periodoncia</option>
                    <option value="Endodoncia" >Endodoncia</option>
                </select><br>
    
                <label for="Tramo">Tramo horario que prefiere:</label>
                <select name="Tramo" id="Tramo">
                    <option value="Mañana" default>8:00 - 12:00</option>
                    <option value="MedioDia">12:00 - 15:00</option>
                    <option value="Tarde">17:00 - 20:00</option>
                </select>
                <br>
            </form>
            <p id="presupuesto"></p>
            <button onclick="procesarPedido();document.getElementById('presupuesto').innerHTML = Presupuesto()">Enviar</button>
            <script>
                function Presupuesto() {
                    let s = formulario.servicio.value;
                    let valor = 0;
                    switch (s) {
                        case 'Limpieza Dental':
                            valor = 50;
                            break;
                        case 'Implantología':
                            valor = 1000;
                            break;
                        case 'Protesis  Dental':
                            valor = 250;
                            break;
                        case 'Ortodoncia':
                            valor = 2590;
                            break;
                        case 'Ortodoncia Invisible':
                            valor = 3020;
                            break;
                        case 'Carilla Dental':
                            valor = 250;
                            break;
                        case 'Estética Dental':
                            valor = 300;
                            break;
                        case 'Periodoncia':
                            valor = 72;
                            break;
                        case 'Endodoncia':
                            valor = 125;
                            break;
                        default:
                            valor = 0;
                    }
                    toString(valor);
                    return 'El presupuesto estimado de su tratamiento al que se va a someter asciende a ' + valor + ' € , para más información hable con nuestro experto'
    
                }
    
                function procesarPedido() {
                    let formulario = {
                        nombre: document.getElementById('nombre'),
                        apellido: document.getElementById('apellido'),
                        Especialista: document.getElementById('Especialista'),
                        email: document.getElementById('email'),
                        telefono: document.getElementById('telefono'),
                        servicio: document.getElementById('servicio'),
                        Tramo: document.getElementById('Tramo'),
                    }
    
                    let p = formulario.telefono.value;
                    p = p.toString();
                    console.log(p)
                    if (p.length != 9) {
                        alert('El número de teléfono no es válido, recuerde que solo podemos utilizar números con el formato europeo');
                    }
    
                    let tramo = formulario.Tramo.value;
                    console.log(tramo)
                    const minMinutos = 0;
                    const maxMinutos = 59;
                    let horamin = 0
                    let horamax = 1
                    console.log(tramo == 'Mañana')
                    console.log(tramo == 'MedioDia')
                    if (tramo == 'Mañana') {
                        horamin = 8
                        horamax = 12
                    } else if (tramo == 'MedioDia') {
                        horamin = 12
                        horamax = 15
                    } else {
                        horamin = 17
                        horamax = 21
                    }
    
                    let hora = Math.floor(Math.random() * (horamax - horamin)) + horamin;
                    let minutos = Math.floor(Math.random() * (maxMinutos - minMinutos)) + minMinutos;
                    if (minutos < 10) {
                        minutos = minutos.toString();
                        minutos = '0' + minutos;
                    }
                    let diasemana = ['Lunes', 'Martes', 'Miercoles', 'Jueves', 'Viernes'];
                    let diaaa = Math.floor(Math.random() * (5 - 0)) + 0;
                    console.log(diaaa)
                    alert('Tu cita ha sido revisada y procesada.');
                    alert('Hola, ' + formulario.nombre.value + ' ' + formulario.apellido.value + ' su cita para ' + formulario.servicio.value + ' ' + ' con el doctor ' + formulario.Especialista.value + ' tendrá lugar el ' + diasemana[diaaa] + ' a las ' + hora + ':' + minutos);
                }
            </script>
        </div>
    </div>
    <footer class="pie2">
        <div class="footer container-fluid text-center ">
            <span style="float:left ">José Antonio Pérez Tinajero & Jesús Rosado Pereira. J&J Dental.</span>
            <span style="float:right ">11408. Número de contacto: 611415763 / 651475634</span>
        </div>
    </footer>

</body>

</html>